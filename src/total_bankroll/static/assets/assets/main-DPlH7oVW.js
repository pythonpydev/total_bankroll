const h=["rgba(54, 162, 235, 0.9)","rgba(255, 99, 132, 0.9)","rgba(75, 192, 192, 0.9)","rgba(255, 206, 86, 0.9)","rgba(153, 102, 255, 0.9)","rgba(255, 159, 64, 0.9)","rgba(101, 115, 128, 0.9)"];function k(d){return h[d%h.length]}function E(d){return d.replace("0.9","0.2")}function C(d,i,g,f={}){var b,m,p;const o=document.body.classList.contains("dark-mode");g.datasets.forEach((e,t)=>{if(i==="pie"||i==="polarArea"||i==="doughnut")e.backgroundColor=e.data.map((n,l)=>k(l)),e.borderColor=o?"rgba(42, 42, 42, 0.8)":"rgba(255, 255, 255, 0.8)",e.borderWidth=2;else{const n=k(t);e.borderColor=n,e.backgroundColor=i==="line"||i==="radar"?E(n):n,e.pointBackgroundColor=n,e.pointHoverBorderColor="rgba(0, 0, 0, 1)",e.pointHoverBackgroundColor="#fff",e.fill=i==="line"||i==="radar"}});const u={responsive:!0,maintainAspectRatio:!0,animation:{duration:1e3,easing:"easeInOutQuart"},plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,color:o?"#f5f5f5":"#343a40",font:{family:"'Merriweather Sans', sans-serif"}}},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold",family:"'Merriweather Sans', sans-serif"},bodyFont:{size:12,family:"'Merriweather Sans', sans-serif"},callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),e.parsed.y!==null&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}},scales:{x:{ticks:{color:o?"rgba(255, 255, 255, 0.7)":"#343a40"},grid:{color:o?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},title:{color:o?"#f5f5f5":"#343a40"}},y:{ticks:{color:o?"rgba(255, 255, 255, 0.7)":"#343a40"},grid:{color:o?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},title:{color:o?"#f5f5f5":"#343a40"}},r:{angleLines:{color:o?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},grid:{color:o?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},pointLabels:{color:o?"#f5f5f5":"#343a40",font:{size:12}},ticks:{color:o?"#f5f5f5":"#343a40",backdropColor:"rgba(0, 0, 0, 0)"}}}},s=_.merge(u,f);return(b=s.plugins)!=null&&b.title&&!((p=(m=f.plugins)==null?void 0:m.title)!=null&&p.color)&&(s.plugins.title.color=o?"#f5f5f5":"#343a40"),["x","y","r"].forEach(e=>{var t,n,l,c;(t=s.scales)!=null&&t[e]&&!((c=(l=(n=f.scales)==null?void 0:n[e])==null?void 0:l.ticks)!=null&&c.color)&&(s.scales[e].ticks.color=o?"rgba(255, 255, 255, 0.7)":"#343a40",s.scales[e].grid.color=o?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",s.scales[e].title&&(s.scales[e].title.color=o?"#f5f5f5":"#343a40"))}),new Chart(d,{type:i,data:g,options:s})}window.createChart=C;document.addEventListener("DOMContentLoaded",function(){const d=document.getElementById("theme-toggle");if(d){let n=function(r){e.classList.toggle("dark-mode",r),t&&(t.classList.toggle("bi-sun-fill",!r),t.classList.toggle("bi-moon-fill",r)),localStorage.setItem("theme",r?"dark":"light");const a=new Event("theme-changed");document.dispatchEvent(a)};var b=n;const e=document.body,t=d.querySelector("i"),l=localStorage.getItem("theme"),c=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;n(l?l==="dark":c),d.addEventListener("click",()=>{n(!e.classList.contains("dark-mode"))})}const i=document.getElementById("generalModal");i&&i.addEventListener("show.bs.modal",function(e){const n=e.relatedTarget.getAttribute("data-url"),l=i.querySelector(".modal-content");fetch(n).then(c=>c.text()).then(c=>{l.innerHTML=c;const r=l.querySelector("form");r&&(r.getAttribute("action")||r.setAttribute("action",n),r.addEventListener("submit",function(a){a.preventDefault();const y=new FormData(r),w=r.getAttribute("action");fetch(w,{method:"POST",body:y}).then(()=>window.location.reload())}))}).catch(c=>{l.innerHTML='<div class="modal-body"><p>Error loading content.</p></div>',console.error("Error loading modal content:",c)})});const g=document.getElementById("backToTopBtn");g&&(window.onscroll=function(){document.body.scrollTop>100||document.documentElement.scrollTop>100?g.style.display="block":g.style.display="none"},g.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),[].slice.call(document.querySelectorAll(".toast")).map(function(e){const t=new bootstrap.Toast(e,{delay:5e3});return t.show(),t});const o=document.getElementById("cookieConsentBanner"),u=document.getElementById("acceptCookie"),s=document.getElementById("declineCookie");if(o&&u&&s){let e=function(n,l,c){let r="";if(c){const a=new Date;a.setTime(a.getTime()+c*24*60*60*1e3),r="; expires="+a.toUTCString()}document.cookie=n+"="+(l||"")+r+"; path=/"},t=function(n){const l=n+"=",c=document.cookie.split(";");for(let r=0;r<c.length;r++){let a=c[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(l)===0)return a.substring(l.length,a.length)}return null};var m=e,p=t;t("cookie_consent")||(o.style.display="block"),u.addEventListener("click",function(){e("cookie_consent","true",365),o.style.display="none"}),s.addEventListener("click",function(){e("cookie_consent","false",null),o.style.display="none"})}});
