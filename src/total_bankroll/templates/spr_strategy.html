{% extends "base.html" %}
{% from "_macros.html" import page_header %}

{% block content %}
{{ page_header('SPR Strategy', 'Guidance on playing different SPR spots effectively.') }}

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">

            <!-- Definition Card -->
            <div class="card shadow-sm mb-4">
                <div class="card-header h5"><i class="bi bi-calculator-fill me-2"></i>Definition and Calculation</div>
                <div class="card-body">
                    <p>The <strong>Stack-to-Pot Ratio (SPR)</strong> is the ratio of the <strong>effective stack size to the current size of the pot</strong>.</p>
                    <blockquote class="blockquote">
                        <p class="mb-0"><code>SPR = Effective Stack / Pot Size</code></p>
                    </blockquote>
                    <ul>
                        <li>For example, if you have a £1,000 remaining stack and there is £100 in the pot, your SPR is £1,000 / £100 = <strong>10</strong>.</li>
                        <li>The <strong>effective SPR</strong> is always the SPR of the <strong>smaller stack</strong> in a heads-up confrontation.</li>
                    </ul>
                </div>
            </div>

            <!-- SPR Categories Card -->
            <div class="card shadow-sm mb-4">
                <div class="card-header h5"><i class="bi bi-diagram-3-fill me-2"></i>SPR Categories and Their Impact</div>
                <div class="card-body">
                    <p>The distinction between different SPR ranges is critical, as SPR has a <strong>dramatic effect on post-flop playing decisions</strong>. SPR indicates how many pot-sized bets are left to play.</p>
                    
                    <!-- Ultralow-SPR -->
                    <div class="alert alert-danger mt-3">
                        <h5 class="alert-heading">1. Ultralow-SPR (SPR ≤ 1) - Pot-Odds Territory</h5>
                        <p>This is all-in or fold territory based on raw equity. You are committed if you have any reasonable piece of the flop.</p>
                        <ul>
                            <li><strong>Meaning:</strong> Exactly one pot-sized bet (or less) left.</li>
                            <li><strong>Commitment:</strong> You only need ~33% equity to get all-in. You cannot fold hands like middle set, top two pair, or a bare nut straight.</li>
                            <li><strong>Action:</strong> With a nut flush draw, you are committed. <strong>Shove.</strong></li>
                        </ul>
                    </div>

                    <!-- Low-SPR -->
                    <div class="alert alert-warning mt-3">
                        <h5 class="alert-heading">2. Low-SPR (1 &lt; SPR ≤ 4) - Shove-or-Fold Territory</h5>
                        <p>Your decision is simplified: if you decide to play, you should generally commit your entire stack.</p>
                        <ul>
                            <li><strong>Meaning:</strong> Enough money for two pot-sized bets (a bet and a raise).</li>
                            <li><strong>Commitment:</strong> The range of hands you commit with widens dramatically. "Small-pot" hands like bare top two pair or a middle set become strong commitment candidates.</li>
                            <li><strong>Action:</strong> If you face a bet and want to continue, your default action should be to <strong>raise all-in</strong>.</li>
                        </ul>
                    </div>

                    <!-- Mid-SPR -->
                    <div class="alert alert-info mt-3">
                        <h5 class="alert-heading">3. Mid-SPR (4 &lt; SPR ≤ 13) - The "Gray Area"</h5>
                        <p>This is judgment territory where decisions are more complex and read-dependent.</p>
                        <ul>
                            <li><strong>Meaning:</strong> Between two and three pot-sized bets left.</li>
                            <li><strong>Commitment:</strong> Your action depends on where you are in the range. Closer to 4, play like it's a low-SPR spot. Closer to 13, play more cautiously like it's a high-SPR spot.</li>
                            <li><strong>Action:</strong> Proceed with caution. Smooth-calling becomes a more viable option than in lower SPR scenarios.</li>
                        </ul>
                    </div>

                    <!-- High-SPR -->
                    <div class="alert alert-success mt-3">
                        <h5 class="alert-heading">4. High-SPR (SPR &gt; 13) - Big Play / Implied Odds Territory</h5>
                        <p>Hand selection is paramount. You must distinguish between hands that can win a huge pot and those that can't.</p>
                        <ul>
                            <li><strong>Meaning:</strong> Three or more pot-sized bets left.</li>
                            <li><strong>Commitment:</strong> Only commit with "big-pot hands" (top set with redraws, nut flushes, nut straights with redraws). Committing with "small-pot hands" (bare two pair, middle set) is a disaster.</li>
                            <li><strong>Action:</strong> With big-pot hands, "ram and jam." With small-pot hands, <strong>smooth-call</strong> to control the pot size.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Strategic Plays Card -->
            <div class="card shadow-sm mb-4">
                <div class="card-header h5"><i class="bi bi-joystick me-2"></i>SPR in Strategic Plays</div>
                <div class="card-body">
                    <h5 class="card-title">Small Ball Strategy</h5>
                    <p>A loose-passive pre-flop approach focused on playing with position. In deep stack scenarios (SPR > 8), you should often <strong>call (float)</strong> with any piece of the board or a nut draw, using your position to control the pot.</p>
                    
                    <hr>

                    <h5 class="card-title">3-Betting Pre-Flop</h5>
                    <p>Your 3-betting strategy is defined by the post-flop SPR you are targeting.</p>
                    <ul>
                        <li><strong>The Pump-and-Shove (Low-SPR Play):</strong> Reraise pre-flop to create a low-SPR situation (≤ 4). The goal is to build a big pot and be able to shove on many flops. This is a high-variance strategy.</li>
                        <li><strong>The Isolation Play (Deep-Stack Play):</strong> Reraise pre-flop to isolate one opponent and play a deep-stacked pot (SPR ≥ 8) with position. This allows you to use leverage and skill to out-play your opponent post-flop.</li>
                    </ul>
                </div>
            </div>

            <!-- Key Takeaways Card -->
            <div class="card border-primary mb-4">
                <div class="card-header bg-primary text-white h5"><i class="bi bi-key-fill me-2"></i>Key Takeaways</div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">The deeper the stacks (high SPR), the bigger a mistake it is to commit with "small-pot" hands.</li>
                        <li class="list-group-item">In low-SPR (≤ 4) spots, your decision is simple: <strong>shove or fold</strong>.</li>
                        <li class="list-group-item">In ultralow-SPR (≤ 1) spots, you are committed with almost any piece of the flop.</li>
                        <li class="list-group-item">A "deep stack" is defined by the SPR, not just starting stack size. An SPR of ~8 or higher is considered deep as it allows for three streets of betting.</li>
                    </ul>
                </div>
            </div>

            <div class="text-center mt-4">
                <a href="{{ url_for('tools.tools_page') }}" class="btn btn-primary"><i class="bi bi-arrow-left-circle me-2"></i>Back to Tools</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}