{% extends "base.html" %}
{% from "_macros.html" import page_header %}

{% block content %}
{{ page_header('Quiz Results', 'Here is how you did.') }}

<section class="page-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h2 class="mb-4">Your Score: {{ score }} / {{ total_questions }}</h2>
                <h3 class="mb-4">Percentage: {{ "%.2f"|format(percentage) }}%</h3>
                                <h4 class="mb-4">Rating: <i class="bi {{ rating.icon }}"></i> {{ rating.name }}</h4>
                <a href="{{ url_for('hand_eval.hud_stats_quiz') }}" class="btn btn-primary btn-xl">Play Again</a>
            </div>
        </div>
        {% if incorrect_answers %}
        <div class="row justify-content-center mt-5">
            <div class="col-lg-8">
                <h3 class="text-center mb-4">Review Your Mistakes</h3>
                <div class="list-group">
                    {% for item in incorrect_answers %}
                    <div class="list-group-item">
                        <p class="mb-1"><strong>Question:</strong> {{ item.question }}</p>
                        <p class="mb-1 text-danger"><strong>Your Answer:</strong> {{ item.your_answer }}</p>
                        <p class="mb-0 text-success"><strong>Correct Answer:</strong> {{ item.correct_answer }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}
